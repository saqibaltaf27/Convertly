{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';// All logic and styling for the services component are contained here\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Services=()=>{const[file,setFile]=useState(null);const[target,setTarget]=useState(500);const[status,setStatus]=useState('');const[loading,setLoading]=useState(false);const upload=async endpoint=>{if(!file){setStatus('Please select a file first.');return;}setLoading(true);setStatus('Uploading and converting...');try{const data=new FormData();data.append(\"file\",file);if(endpoint===\"compress-pdf\"){data.append(\"target_kb\",target);}const res=await axios.post(\"http://localhost:5000/\".concat(endpoint),data,{responseType:\"blob\"});const url=window.URL.createObjectURL(new Blob([res.data]));const a=document.createElement(\"a\");a.href=url;let downloadFileName=\"output.pdf\";if(endpoint===\"word-to-excel\"){downloadFileName=\"output.xlsx\";}else if(endpoint===\"excel-to-word\"){downloadFileName=\"output.docx\";}a.download=downloadFileName;document.body.appendChild(a);a.click();a.remove();setStatus('File converted successfully!');}catch(error){console.error(\"Error during file upload:\",error);if(error.response){const errorMessage=await error.response.data.text();setStatus(\"Error: \".concat(errorMessage));}else{setStatus('Failed to connect to the server. Is it running?');}}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-8 space-y-6 max-w-lg mx-auto bg-white rounded-xl shadow-2xl\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-800 text-center\",children:\"File Converter Services\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center space-y-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"file-input\",className:\"w-full text-center text-sm font-medium text-gray-700\",children:\"Choose a file\"}),/*#__PURE__*/_jsx(\"input\",{id:\"file-input\",type:\"file\",onChange:e=>setFile(e.target.files[0]),className:\"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-violet-50 file:text-violet-700 hover:file:bg-violet-100\"}),file&&/*#__PURE__*/_jsxs(\"p\",{className:\"text-gray-600 text-sm\",children:[\"Selected: \",file.name]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-2\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"target-input\",className:\"text-sm font-medium text-gray-700\",children:\"Target PDF Size (KB)\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{id:\"target-input\",type:\"number\",value:target,onChange:e=>setTarget(e.target.value),className:\"w-24 border border-gray-300 rounded-md p-2 text-sm focus:ring-blue-500 focus:border-blue-500\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-gray-600\",children:\"KB\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>upload(\"compress-pdf\"),className:\"w-full py-2 px-4 rounded-md text-white font-semibold transition-colors duration-200 bg-blue-600 hover:bg-blue-700 disabled:opacity-50\",disabled:loading,children:\"Compress PDF\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>upload(\"word-to-excel\"),className:\"w-full py-2 px-4 rounded-md text-white font-semibold transition-colors duration-200 bg-green-600 hover:bg-green-700 disabled:opacity-50\",disabled:loading,children:\"Word \\u2192 Excel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>upload(\"excel-to-word\"),className:\"w-full py-2 px-4 rounded-md text-white font-semibold transition-colors duration-200 bg-purple-600 hover:bg-purple-700 disabled:opacity-50\",disabled:loading,children:\"Excel \\u2192 Word\"})]})]}),status&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 p-3 text-center text-sm font-medium rounded-lg\",role:\"alert\",children:/*#__PURE__*/_jsx(\"p\",{className:status.startsWith('Error')?'text-red-600':'text-green-600',children:status})})]});};// Main App component\nconst App=()=>{return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen bg-gray-100 flex items-center justify-center p-4\",children:/*#__PURE__*/_jsx(Services,{})});};export default App;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","Services","file","setFile","target","setTarget","status","setStatus","loading","setLoading","upload","endpoint","data","FormData","append","res","post","concat","responseType","url","window","URL","createObjectURL","Blob","a","document","createElement","href","downloadFileName","download","body","appendChild","click","remove","error","console","response","errorMessage","text","className","children","htmlFor","id","type","onChange","e","files","name","value","onClick","disabled","role","startsWith","App"],"sources":["C:/Users/Mr.Saqib/OneDrive - gms-world.com/Documents/GitHub/Convertly/src/pages/Services.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\n// All logic and styling for the services component are contained here\r\nconst Services = () => {\r\n    const [file, setFile] = useState(null);\r\n    const [target, setTarget] = useState(500);\r\n    const [status, setStatus] = useState('');\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const upload = async (endpoint) => {\r\n        if (!file) {\r\n            setStatus('Please select a file first.');\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n        setStatus('Uploading and converting...');\r\n        \r\n        try {\r\n            const data = new FormData();\r\n            data.append(\"file\", file);\r\n            if (endpoint === \"compress-pdf\") {\r\n                data.append(\"target_kb\", target);\r\n            }\r\n            \r\n            const res = await axios.post(`http://localhost:5000/${endpoint}`, data, {\r\n                responseType: \"blob\"\r\n            });\r\n            \r\n            const url = window.URL.createObjectURL(new Blob([res.data]));\r\n            const a = document.createElement(\"a\");\r\n            a.href = url;\r\n            \r\n            let downloadFileName = \"output.pdf\";\r\n            if (endpoint === \"word-to-excel\") {\r\n                downloadFileName = \"output.xlsx\";\r\n            } else if (endpoint === \"excel-to-word\") {\r\n                downloadFileName = \"output.docx\";\r\n            }\r\n            a.download = downloadFileName;\r\n            \r\n            document.body.appendChild(a);\r\n            a.click();\r\n            a.remove();\r\n            \r\n            setStatus('File converted successfully!');\r\n        } catch (error) {\r\n            console.error(\"Error during file upload:\", error);\r\n            if (error.response) {\r\n                const errorMessage = await error.response.data.text();\r\n                setStatus(`Error: ${errorMessage}`);\r\n            } else {\r\n                setStatus('Failed to connect to the server. Is it running?');\r\n            }\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"p-8 space-y-6 max-w-lg mx-auto bg-white rounded-xl shadow-2xl\">\r\n            <h2 className=\"text-3xl font-bold text-gray-800 text-center\">File Converter Services</h2>\r\n            \r\n            <div className=\"space-y-4\">\r\n                <div className=\"flex flex-col items-center space-y-2\">\r\n                    <label htmlFor=\"file-input\" className=\"w-full text-center text-sm font-medium text-gray-700\">Choose a file</label>\r\n                    <input \r\n                        id=\"file-input\" \r\n                        type=\"file\" \r\n                        onChange={e => setFile(e.target.files[0])}\r\n                        className=\"w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-violet-50 file:text-violet-700 hover:file:bg-violet-100\"\r\n                    />\r\n                    {file && <p className=\"text-gray-600 text-sm\">Selected: {file.name}</p>}\r\n                </div>\r\n                \r\n                <div className=\"flex flex-col space-y-2\">\r\n                    <label htmlFor=\"target-input\" className=\"text-sm font-medium text-gray-700\">Target PDF Size (KB)</label>\r\n                    <div className=\"flex items-center space-x-2\">\r\n                        <input\r\n                            id=\"target-input\"\r\n                            type=\"number\" \r\n                            value={target} \r\n                            onChange={e => setTarget(e.target.value)} \r\n                            className=\"w-24 border border-gray-300 rounded-md p-2 text-sm focus:ring-blue-500 focus:border-blue-500\"\r\n                        />\r\n                        <span className=\"text-gray-600\">KB</span>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                    <button \r\n                        onClick={() => upload(\"compress-pdf\")} \r\n                        className=\"w-full py-2 px-4 rounded-md text-white font-semibold transition-colors duration-200 bg-blue-600 hover:bg-blue-700 disabled:opacity-50\"\r\n                        disabled={loading}\r\n                    >\r\n                        Compress PDF\r\n                    </button>\r\n                    <button \r\n                        onClick={() => upload(\"word-to-excel\")} \r\n                        className=\"w-full py-2 px-4 rounded-md text-white font-semibold transition-colors duration-200 bg-green-600 hover:bg-green-700 disabled:opacity-50\"\r\n                        disabled={loading}\r\n                    >\r\n                        Word → Excel\r\n                    </button>\r\n                    <button \r\n                        onClick={() => upload(\"excel-to-word\")} \r\n                        className=\"w-full py-2 px-4 rounded-md text-white font-semibold transition-colors duration-200 bg-purple-600 hover:bg-purple-700 disabled:opacity-50\"\r\n                        disabled={loading}\r\n                    >\r\n                        Excel → Word\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            {status && (\r\n                <div className=\"mt-4 p-3 text-center text-sm font-medium rounded-lg\" role=\"alert\">\r\n                    <p className={status.startsWith('Error') ? 'text-red-600' : 'text-green-600'}>{status}</p>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\n// Main App component\r\nconst App = () => {\r\n    return (\r\n        <div className=\"min-h-screen bg-gray-100 flex items-center justify-center p-4\">\r\n            <Services />\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default App;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}